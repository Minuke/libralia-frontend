<div class="user-books">
  <div class="user-books__header">
    <h2 class="user-books__title">ðŸ“š Tus libros</h2>
    <button class="user-books__btn user-books__btn--primary" routerLink="/editor/workspace">
      âž• Nuevo libro
    </button>
  </div>

  <div class="user-books__list">
    @if (books()?.results?.length ?? false) {
    @for (book of books()!.results; track book.id) {
    <div class="user-books__card">
      <div class="user-books__details">
        <h3 class="user-books__book-title">{{ book.title }}</h3>
        <p class="user-books__book-description">{{ book.description }}</p>
      </div>
      <div class="user-books__actions">
        <button class="user-books__btn user-books__btn--edit">
          Editar
        </button>
        <button class="user-books__btn user-books__btn--danger" (click)="deleteBook(book.id)">
          Eliminar
        </button>
      </div>
    </div>
    }
    } @else {
    <p class="user-books__empty">No tienes libros todavÃ­a.</p>
    }
  </div>

  @if ((books()?.pages ?? 0) > 1) {
  <div class="user-books__pagination">
    @if (books()?.has_previous ?? false) {
    <button class="user-books__btn user-books__btn--secondary" (click)="goToPrevious()">
      â¬… Anterior
    </button>
    }

    @for (page of pages(); track page) {
    <button class="user-books__btn user-books__btn--page" [class.user-books__btn--active]="page === currentPage()"
      (click)="goToPage(page)">
      {{ page }}
    </button>
    }

    @if (books()?.has_next ?? false) {
    <button class="user-books__btn user-books__btn--secondary" (click)="goToNext()">
      Siguiente âž¡
    </button>
    }
  </div>
  }
</div>